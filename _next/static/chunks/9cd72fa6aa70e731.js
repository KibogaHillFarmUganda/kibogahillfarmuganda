(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6085,e=>{"use strict";e.s(["Headers",()=>a,"Request",()=>r,"Response",()=>d,"default",()=>l,"fetch",()=>t]);var s="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g;let t=s.fetch,l=s.fetch.bind(s),a=s.Headers,r=s.Request,d=s.Response},23261,e=>{"use strict";e.s(["default",()=>r]);var s=e.i(43476),t=e.i(71645),l=e.i(22016),a=e.i(53210);function r(){let[e,r]=t.useState([]),[d,i]=t.useState([]),[n,c]=t.useState(!1);async function m(){c(!0);let[{data:e,error:s},{data:t,error:l}]=await Promise.all([a.supabase.from("family_members").select("id, full_name, phone, email, created_at").order("created_at",{ascending:!1}),a.supabase.from("farming_targets").select("id, user_id, name, quantity").order("id",{ascending:!1})]);r(null!=e?e:[]),i(null!=t?t:[]),s&&console.warn("family_members read failed: ",s.message),l&&console.warn("farming_targets read failed: ",l.message),c(!1)}async function x(e){let{error:s}=await a.supabase.from("farming_targets").delete().eq("id",e);if(s)return void alert(s.message);await m()}return t.useEffect(()=>{m()},[]),(0,s.jsxs)("main",{className:"max-w-6xl mx-auto py-10",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Admin"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(l.default,{href:"/family/tracker",className:"px-3 py-2 rounded-md bg-emerald-500 text-white text-sm",children:"Tracker"}),(0,s.jsx)(l.default,{href:"/admin/results",className:"px-3 py-2 rounded-md border text-sm",children:"Election results"})]})]}),n?(0,s.jsx)("p",{children:"Loading…"}):(0,s.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"font-semibold mb-3",children:"Registered members"}),(0,s.jsx)("div",{className:"bg-white border rounded-xl overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-slate-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Name"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Phone"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Email"})]})}),(0,s.jsxs)("tbody",{children:[e.map(e=>{var t,l,a;return(0,s.jsxs)("tr",{className:"border-t cursor-pointer hover:bg-slate-50",onClick:()=>{console.log("member",e.id)},children:[(0,s.jsx)("td",{className:"px-3 py-2",children:null!=(t=e.full_name)?t:"—"}),(0,s.jsx)("td",{className:"px-3 py-2",children:null!=(l=e.phone)?l:"—"}),(0,s.jsx)("td",{className:"px-3 py-2",children:null!=(a=e.email)?a:"—"})]},e.id)}),0===e.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"px-3 py-4 text-slate-500",colSpan:3,children:"No members yet."})})]})]})})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"font-semibold mb-3",children:"5-year dream submissions"}),(0,s.jsx)("div",{className:"bg-white border rounded-xl overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-slate-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"User id"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Target"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Qty"}),(0,s.jsx)("th",{className:"text-left px-3 py-2",children:"Actions"})]})}),(0,s.jsxs)("tbody",{children:[d.map(e=>{var t;return(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{className:"px-3 py-2 text-xs",children:e.user_id}),(0,s.jsx)("td",{className:"px-3 py-2",children:e.name}),(0,s.jsx)("td",{className:"px-3 py-2",children:null!=(t=e.quantity)?t:"—"}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("button",{onClick:()=>x(e.id),className:"text-xs text-red-500 hover:underline",children:"delete"})})]},e.id)}),0===d.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"px-3 py-4 text-slate-500",colSpan:4,children:"No records yet."})})]})]})})]})]})]})}},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);